<!DOCTYPE html><html lang="ko"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#682984"><meta name="generator" content="Hexo 5.4.0"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="apple-touch-icon" sizes="180x180" href="/images/icons/icon-180x180.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/icons/icon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/icons/icon-16x16.png"><link rel="mask-icon" href="/images/icons/icon-pinned-tab.svg" color="#682984"><link rel="manifest" href="/manifest.json"><meta name="google-site-verification" content="EFs9XZuMFGzvOpvRVHI_2bKZs1BmAMxPGmoFxuMu4-o"><meta name="msvalidate.01" content="65AD1E28C0D057CEB3C68FBC0293E55B"><meta name="yandex-verification" content="6672f93d837354fb"><meta name="baidu-site-verification" content="yZEdU1ABcR"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.1/css/all.min.css"><script class="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"gracefullight.dev",root:"/",images:"/images",scheme:"Mist",version:"8.2.2",exturl:!0,sidebar:{position:"right",display:"hide",padding:18,offset:12},copycode:!0,bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!0,lazyload:!0,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},motion:{enable:!1,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},prism:!1,i18n:{placeholder:"Searching...",empty:"We didn't find any results for the search: ${query}",hits_time:"${hits} results found in ${time} ms",hits:"${hits} results found"},path:"/search.xml",localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1}}</script><meta name="description" content="매번 용어 찾아보는 게 귀찮아서 정리했다. 어떤 기능을 yaml 로 구성해야하는지 감이 오는 듯하다.  노드  컨테이너가 배치되는 서버 쿠버네티스 클러스터의 관리 대상으로 등록된 도커 호스트 쿠버네티스 클러스터는 마스터와 노드의 그룹으로 구성 kubectl get nodes   마스터 노드  스웜의 매니저노드와 비슷한 느낌이다. kube-apiserver:"><meta property="og:type" content="article"><meta property="og:title" content="Kubernetes의 모든 것"><meta property="og:url" content="https://gracefullight.dev/2019/06/09/kubernetes%EC%9D%98-%EB%AA%A8%EB%93%A0-%EA%B2%83/index.html"><meta property="og:site_name" content="Gracefullight"><meta property="og:description" content="매번 용어 찾아보는 게 귀찮아서 정리했다. 어떤 기능을 yaml 로 구성해야하는지 감이 오는 듯하다.  노드  컨테이너가 배치되는 서버 쿠버네티스 클러스터의 관리 대상으로 등록된 도커 호스트 쿠버네티스 클러스터는 마스터와 노드의 그룹으로 구성 kubectl get nodes   마스터 노드  스웜의 매니저노드와 비슷한 느낌이다. kube-apiserver:"><meta property="og:locale" content="ko_KR"><meta property="article:published_time" content="2019-06-09T03:23:59.000Z"><meta property="article:modified_time" content="2021-03-07T08:17:22.708Z"><meta property="article:author" content="Gracefullight"><meta property="article:tag" content="docker"><meta property="article:tag" content="k8s"><meta property="article:tag" content="kubernetes"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://gracefullight.dev/2019/06/09/kubernetes%EC%9D%98-%EB%AA%A8%EB%93%A0-%EA%B2%83/"><script class="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"ko"}</script><link rel="preconnect" href="https://busuanzi.ibruce.info"><link rel="preconnect" href="https://pagead2.googlesyndication.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><meta name="naver-site-verification" content="a73bfdbae0aa662dfbb30d15a87c1aec78aa9342"><meta name="facebook-domain-verification" content="uelupjqqsm5egzlhy1aev2rfxow5yt"><script async src="https://cdn.jsdelivr.net/npm/pwacompat@latest/pwacompat.min.js"></script><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "Person",
    "name": "Gracefullight",
    "url": "https://gracefullight.dev",
    "logo": "https://gracefullight.dev/images/icons/icon-144x144.png",
    "image": "https://gracefullight.dev/images/profile_dog.png",
    "email": "mailto:gracefullight.dev@gmail.com",
    "jobTitle": "Full Stack Developer",
    "nationality": "Korean",
    "sameAs": [
      "https://github.com/gracefullight",
      "https://www.facebook.com/gracefullight.dev"
    ]
  }</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-3004788392777865",enable_page_level_ads:!0})</script><script>!function(e,t,n,c,o,a,f){e.fbq||(o=e.fbq=function(){o.callMethod?o.callMethod.apply(o,arguments):o.queue.push(arguments)},e._fbq||(e._fbq=o),o.push=o,o.loaded=!0,o.version="2.0",o.queue=[],(a=t.createElement(n)).async=!0,a.src="https://connect.facebook.net/en_US/fbevents.js",(f=t.getElementsByTagName(n)[0]).parentNode.insertBefore(a,f))}(window,document,"script"),fbq("init","3488156724570735"),fbq("track","PageView")</script><title>Kubernetes의 모든 것 | Gracefullight</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-89261637-4"></script><script>if(CONFIG.hostname===location.hostname){function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-89261637-4")}</script><noscript><style>body{margin-top:2rem}.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header,.use-motion .sidebar{visibility:visible}.use-motion .footer,.use-motion .header,.use-motion .site-brand-container .toggle{opacity:initial}.use-motion .custom-logo-image,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line{transform:scaleX(1)}.search-pop-overlay,.sidebar-nav{display:none}.sidebar-panel{display:block}</style></noscript><link rel="alternate" href="/feed.xml" title="Gracefullight" type="application/rss+xml">
</head><body itemscope itemtype="http://schema.org/WebPage"><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><h1 class="site-title">Gracefullight</h1><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">Web.dev</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>홈</a></li><li class="menu-item menu-item-profile"><a href="/profile/" rel="section"><i class="fa fa-user fa-fw"></i>프로필</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>태그</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>카테고리</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>검색</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">목차</li><li class="sidebar-nav-overview">흝어보기</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%EB%85%B8%EB%93%9C"><span class="nav-number">1.</span> <span class="nav-text">노드</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%EB%A7%88%EC%8A%A4%ED%84%B0-%EB%85%B8%EB%93%9C"><span class="nav-number">1.1.</span> <span class="nav-text">마스터 노드</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%EB%84%A4%EC%9E%84%EC%8A%A4%ED%8E%98%EC%9D%B4%EC%8A%A4"><span class="nav-number">2.</span> <span class="nav-text">네임스페이스</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%ED%8C%8C%EB%93%9C"><span class="nav-number">3.</span> <span class="nav-text">파드</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%EB%A0%88%ED%94%8C%EB%A6%AC%EC%B9%B4%EC%84%B8%ED%8A%B8"><span class="nav-number">4.</span> <span class="nav-text">레플리카세트</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%EB%94%94%ED%94%8C%EB%A1%9C%EC%9D%B4%EB%A8%BC%ED%8A%B8"><span class="nav-number">5.</span> <span class="nav-text">디플로이먼트</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%EB%8D%B0%EB%AA%AC%EC%85%8B"><span class="nav-number">6.</span> <span class="nav-text">데몬셋</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%EC%84%9C%EB%B9%84%EC%8A%A4"><span class="nav-number">7.</span> <span class="nav-text">서비스</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#clusterip-%EC%84%9C%EB%B9%84%EC%8A%A4"><span class="nav-number">7.1.</span> <span class="nav-text">ClusterIP 서비스</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#nodeport-%EC%84%9C%EB%B9%84%EC%8A%A4"><span class="nav-number">7.2.</span> <span class="nav-text">NodePort 서비스</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#loadbanlancer-%EC%84%9C%EB%B9%84%EC%8A%A4"><span class="nav-number">7.3.</span> <span class="nav-text">LoadBanlancer 서비스</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#externalname-%EC%84%9C%EB%B9%84%EC%8A%A4"><span class="nav-number">7.4.</span> <span class="nav-text">ExternalName 서비스</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%EC%9D%B8%EA%B7%B8%EB%A0%88%EC%8A%A4"><span class="nav-number">8.</span> <span class="nav-text">인그레스</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%EC%BB%A8%ED%94%BC%EA%B7%B8%EB%A7%B5"><span class="nav-number">9.</span> <span class="nav-text">컨피그맵</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%ED%8D%BC%EC%8B%9C%EC%8A%A4%ED%84%B4%ED%8A%B8%EB%B3%BC%EB%A5%A8"><span class="nav-number">10.</span> <span class="nav-text">퍼시스턴트볼륨</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%ED%8D%BC%EC%8B%9C%EC%8A%A4%ED%84%B4%ED%8A%B8%EB%B3%BC%EB%A5%A8-%ED%81%B4%EB%A0%88%EC%9E%84"><span class="nav-number">10.1.</span> <span class="nav-text">퍼시스턴트볼륨 클레임</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80%ED%81%B4%EB%9E%98%EC%8A%A4"><span class="nav-number">11.</span> <span class="nav-text">스토리지클래스</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%EC%8A%A4%ED%85%8C%EC%9D%B4%ED%8A%B8%ED%92%80%EC%84%B8%ED%8A%B8"><span class="nav-number">12.</span> <span class="nav-text">스테이트풀세트</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%EC%9E%A1"><span class="nav-number">13.</span> <span class="nav-text">잡</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%EC%8B%9C%ED%81%AC%EB%A6%BF"><span class="nav-number">14.</span> <span class="nav-text">시크릿</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%EB%A1%A4"><span class="nav-number">15.</span> <span class="nav-text">롤</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%EB%A1%A4-%EB%B0%94%EC%9D%B8%EB%94%A9"><span class="nav-number">15.1.</span> <span class="nav-text">롤 바인딩</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#rbac"><span class="nav-number">15.2.</span> <span class="nav-text">RBAC</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EA%B6%8C%ED%95%9C-%EB%94%94%EB%B2%84%EA%B9%85"><span class="nav-number">15.3.</span> <span class="nav-text">권한 디버깅</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%A4"><span class="nav-number">16.</span> <span class="nav-text">클러스터롤</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%A4-%EB%B0%94%EC%9D%B8%EB%94%A9"><span class="nav-number">16.1.</span> <span class="nav-text">클러스터롤 바인딩</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%EC%84%9C%EB%B9%84%EC%8A%A4-%EA%B3%84%EC%A0%95"><span class="nav-number">17.</span> <span class="nav-text">서비스 계정</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%EB%85%B8%EB%93%9C%EC%96%B4%ED%94%BC%EB%8B%88%ED%8B%B0"><span class="nav-number">18.</span> <span class="nav-text">노드어피니티</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%ED%85%8C%EC%9D%B8%ED%8A%B8"><span class="nav-number">19.</span> <span class="nav-text">테인트</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%EC%BB%A8%ED%8A%B8%EB%A1%A4-%ED%94%8C%EB%A0%88%EC%9D%B8"><span class="nav-number">20.</span> <span class="nav-text">컨트롤 플레인</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#dynamic-admission-control"><span class="nav-number">21.</span> <span class="nav-text">Dynamic Admission Control</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EB%8D%B0%EB%AA%AC"><span class="nav-number">22.</span> <span class="nav-text">클러스터 데몬</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EC%96%B4%EC%8B%9C%EC%8A%A4%ED%84%B4%EC%8A%A4"><span class="nav-number">23.</span> <span class="nav-text">클러스터어시스턴스</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Gracefullight" src="/images/profile_dog.png"><p class="site-author-name" itemprop="name">Gracefullight</p><div class="site-description" itemprop="description">풀스택 개발자를 꿈꾸며</div></div><div class="site-state-wrap site-overview-item animated"><nav class="site-state"><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">77</span> <span class="site-state-item-name">카테고리</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">153</span> <span class="site-state-item-name">태그</span></a></div></nav></div><div class="links-of-author site-overview-item animated"><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2dyYWNlZnVsbGlnaHQ=" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;gracefullight"><i class="fab fa-github fa-fw"></i></span> </span><span class="links-of-author-item"><span class="exturl" data-url="bWFpbHRvOmdyYWNlZnVsbGlnaHQuZGV2QGdtYWlsLmNvbQ==" title="E-Mail → mailto:gracefullight.dev@gmail.com"><i class="fa fa-envelope fa-fw"></i></span></span></div><script src="https://ads-partners.coupang.com/g.js"></script><script>new PartnersCoupang.G({id:115781})</script></div></div><div class="back-to-top animated" role="button"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div class="sidebar-dimmer"></div></header><div class="reading-progress-bar"></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="ko"><link itemprop="mainEntityOfPage" href="https://gracefullight.dev/2019/06/09/kubernetes%EC%9D%98-%EB%AA%A8%EB%93%A0-%EA%B2%83/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/profile_dog.png"><meta itemprop="name" content="Gracefullight"><meta itemprop="description" content="풀스택 개발자를 꿈꾸며"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Gracefullight"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Kubernetes의 모든 것</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">작성일</span> <time title="Post created: 2019-06-09 12:23:59" itemprop="dateCreated datePublished" datetime="2019-06-09T12:23:59+09:00">2019-06-09</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">Edited on</span> <time title="Updated at: 2021-03-07 17:17:22" itemprop="dateModified" datetime="2021-03-07T17:17:22+09:00">2021-03-07</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/server/" itemprop="url" rel="index"><span itemprop="name">server</span></a> </span>, <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/server/docker/" itemprop="url" rel="index"><span itemprop="name">docker</span></a> </span>, <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/server/docker/k8s/" itemprop="url" rel="index"><span itemprop="name">k8s</span></a> </span></span><span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="post-meta-item-text">Views: </span><span id="busuanzi_value_page_pv"></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Disqus: </span><a title="disqus" href="/2019/06/09/kubernetes%EC%9D%98-%EB%AA%A8%EB%93%A0-%EA%B2%83/#disqus_thread" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/06/09/kubernetes의-모든-것/" itemprop="commentCount"></span></a></span></div></div></header><div class="post-body" itemprop="articleBody"><p>매번 용어 찾아보는 게 귀찮아서 정리했다.<br>어떤 기능을 yaml 로 구성해야하는지 감이 오는 듯하다.</p><h1 id="노드"><a class="markdownIt-Anchor" href="#노드"></a> 노드</h1><ul><li>컨테이너가 배치되는 서버</li><li>쿠버네티스 클러스터의 관리 대상으로 등록된 <strong>도커 호스트</strong></li><li>쿠버네티스 클러스터는 마스터와 노드의 그룹으로 구성</li><li><code>kubectl get nodes</code></li></ul><h2 id="마스터-노드"><a class="markdownIt-Anchor" href="#마스터-노드"></a> 마스터 노드</h2><ul><li>스웜의 매니저노드와 비슷한 느낌이다.</li><li>kube-apiserver: 쿠버네티스 API를 노출하는 컴포넌트 kubectl로부터 리소스를 조작하라는 지시를 받음</li><li>ectd: 고가용성을 갖춘 분산 Key/Value 스토어로 쿠버네티스 클러스터의 백킹스토어로 쓰인다. (CAS)</li><li>kube-scheduler: 노드를 모니터링하고 컨테이너를 배치할 적절한 노드탐색</li><li>kube-controller-manager: 리소스를 제어하는 컨트롤러 실행</li></ul><blockquote><p>일반적인 (non-managed, GKE 등이 없는) 환경에선 마스터 노드서버가 단일 장애지점 (SPOF)가 되지 않도록 마스터를 3대 두는 것이 필수다.</p></blockquote><h1 id="네임스페이스"><a class="markdownIt-Anchor" href="#네임스페이스"></a> 네임스페이스</h1><ul><li>쿠버네티스 클러스터 안의 가상 클러스터</li><li>네임스페이스마다 권한을 줄 수 있으므로 개발팀이 클 때 유용하다.</li><li>기본으론 <code>default, docker, kube-public, kube-system</code> 네임스페이스가 있다.</li><li><code>kubectl get namespace</code></li></ul><h1 id="파드"><a class="markdownIt-Anchor" href="#파드"></a> 파드</h1><ul><li>컨테이너의 집합 중 가장 작은 단위로, 컨테이너의 실행 방법을 정의</li><li>적어도 하나 이상의 컨테이너로 이뤄져있다.<ul><li>nginx reverse proxy + application web server</li></ul></li><li>파드는 노드 안에 들어간다.</li><li>함꼐 배포해야 정합성, 일관성이 유지된다면, 같은 파드로 묶어 배포한다.</li><li>파드엔 각각 고유의 가상 IP가 할당된다.</li><li><code>kubectl get pod</code></li></ul><h1 id="레플리카세트"><a class="markdownIt-Anchor" href="#레플리카세트"></a> 레플리카세트</h1><ul><li>같은 스펙을 갖는 파드를 여러 개 생성/관리 하는 역할</li><li>똑같은 파드의 레플리케이션 개수를 관리하는 리소스이다.</li><li>삭제된 파드는 복원할 수 없기 때문에 웹 어플리케이션과 같은 stateless 파드에 사용하기에 좋다.</li><li><code>kubectl get replicaset</code></li><li>레플리카셋의 파드명은 container-1b2e3f 처럼 임의로 정해진다.</li></ul><h1 id="디플로이먼트"><a class="markdownIt-Anchor" href="#디플로이먼트"></a> 디플로이먼트</h1><ul><li>레플리카세트의 리비전을 관리 (빠른 버저닝)</li><li>리비전은 컨테이너 이미지가 수정된 경우에 생성된다.</li><li><code>kubectl rollout history deployment ..</code></li></ul><h1 id="데몬셋"><a class="markdownIt-Anchor" href="#데몬셋"></a> 데몬셋</h1><ul><li>모든 시스템에서 실행되어야하는 파드와 템플릿 제공</li></ul><h1 id="서비스"><a class="markdownIt-Anchor" href="#서비스"></a> 서비스</h1><ul><li>파드의 집합에 접근하기 위한 경로를 정의</li><li>쿠버네티스 클러스터 내에서 파드의 집합에 대한 경로나 서비스 디스커버리를 제공하는 리소스</li><li>서비스의 대상이 되는 파드는 서비스에서 정의하는 레이블 셀렉터로 정해진다.</li><li>서비스의 접근은 같은 네임스페이스라면 서비스명만으로 접근이 가능하다.<ul><li><code>http://$&#123;svc&#125; =&gt; http://$&#123;svc&#125;.default =&gt; http://$&#123;svc&#125;.default.svc.local</code></li></ul></li></ul><h2 id="clusterip-서비스"><a class="markdownIt-Anchor" href="#clusterip-서비스"></a> ClusterIP 서비스</h2><ul><li>서비스의 기본 타입</li><li>쿠버네티스 클러스터의 내부 IP 주소에 서비스를 공개할 수 있다.</li><li>다른 파드 그룹으로 접근할 때 서비스를 거쳐 가도록 할 수 있으며, 서비스명으로 네임 레졸루션이 가능해진다.</li><li>외부에서는 접근할 수 없다.</li></ul><h2 id="nodeport-서비스"><a class="markdownIt-Anchor" href="#nodeport-서비스"></a> NodePort 서비스</h2><ul><li>쿠버네티스 클러스터 외부에서 접근할 수 있는 서비스</li><li>서비스를 L4 레벨에서 노출하는 것이므로 TCP/UDP 모두 다룰 수 있다.</li><li><code>kubectl get svc ...</code></li></ul><h2 id="loadbanlancer-서비스"><a class="markdownIt-Anchor" href="#loadbanlancer-서비스"></a> LoadBanlancer 서비스</h2><ul><li>로컬 쿠버네티스 환경에선 사용할 수 없다.</li></ul><h2 id="externalname-서비스"><a class="markdownIt-Anchor" href="#externalname-서비스"></a> ExternalName 서비스</h2><ul><li>쿠버네티스 클러스터에서 외부 호스트를 네임 레졸루션하기 위한 별칭이다.</li><li>gracefullighut.dev 를 gracefullight 로 접근 가능하게 만든다.</li></ul><h1 id="인그레스"><a class="markdownIt-Anchor" href="#인그레스"></a> 인그레스</h1><ul><li>서비스를 쿠버네티스 클러스터 외부로 노출</li><li>NodePort 서비스는 L4라 HTTP/S의 경로기반 라우팅이 불가능한데, 인그레스는 L7 레벨로 제어가 가능하다.</li><li>주로 HTTP/S 서비스를 노출하는 경우 사용한다.</li><li>로컬 쿠버네티스 환경에서는 인그레스를 사용해 서비스를 노출시킬 수 없으므로 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2t1YmVybmV0ZXMvaW5ncmVzcy1uZ2lueA==">nginx ingress controller<i class="fa fa-external-link-alt"></i></span> 를 사용한다.</li></ul><h1 id="컨피그맵"><a class="markdownIt-Anchor" href="#컨피그맵"></a> 컨피그맵</h1><ul><li>설정 정보를 정의 후 파드에 전달</li></ul><h1 id="퍼시스턴트볼륨"><a class="markdownIt-Anchor" href="#퍼시스턴트볼륨"></a> 퍼시스턴트볼륨</h1><ul><li>파드가 사용할 스토리지의 크기 및 종류를 정의</li></ul><h2 id="퍼시스턴트볼륨-클레임"><a class="markdownIt-Anchor" href="#퍼시스턴트볼륨-클레임"></a> 퍼시스턴트볼륨 클레임</h2><ul><li>퍼시스턴트 볼륨을 동적으로 확보</li></ul><h1 id="스토리지클래스"><a class="markdownIt-Anchor" href="#스토리지클래스"></a> 스토리지클래스</h1><ul><li>퍼시스턴트 볼륨이 확보하는 스토리지의 종류를 정의</li></ul><h1 id="스테이트풀세트"><a class="markdownIt-Anchor" href="#스테이트풀세트"></a> 스테이트풀세트</h1><ul><li>같은 스펙으로 모두 동일한 파드를 여러 개 생성하고 관리</li><li>스테이트풀셋의 파드명은 backend-0, backend-1 처럼 인덱스로 정해진다.</li></ul><h1 id="잡"><a class="markdownIt-Anchor" href="#잡"></a> 잡</h1><ul><li>일회성 파드를 여러 개 생성하고 종료 보장</li></ul><h1 id="시크릿"><a class="markdownIt-Anchor" href="#시크릿"></a> 시크릿</h1><ul><li>인증 정보 등 비밀 데이터 정의</li></ul><h1 id="롤"><a class="markdownIt-Anchor" href="#롤"></a> 롤</h1><ul><li>네임스페이스 안에서 조작 가능한 쿠버네티스 리소스의 규칙 정의</li><li>각 쿠버네티스 API 사용 권한 정의</li><li><strong>지정된 네임스페이스 내에서만 유효</strong></li></ul><h2 id="롤-바인딩"><a class="markdownIt-Anchor" href="#롤-바인딩"></a> 롤 바인딩</h2><ul><li>쿠버네티스 리소스 사용자와 롤을 연결</li></ul><h2 id="rbac"><a class="markdownIt-Anchor" href="#rbac"></a> RBAC</h2><ul><li>Role-based access control (RBAC) is a method of regulating access to computer or network resources based on the roles of individual users within an enterprise.</li><li><span class="exturl" data-url="aHR0cHM6Ly9rdWJlcm5ldGVzLmlvL2RvY3MvcmVmZXJlbmNlL2FjY2Vzcy1hdXRobi1hdXRoei9yYmFjLw==">Docs<i class="fa fa-external-link-alt"></i></span></li></ul><h2 id="권한-디버깅"><a class="markdownIt-Anchor" href="#권한-디버깅"></a> 권한 디버깅</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># can-i 문으로 권한 확인 가능</span></span><br><span class="line">$ kubectl auth can-i ...</span><br><span class="line"></span><br><span class="line"><span class="comment"># kubectl auth can-i create deployments</span></span><br><span class="line"><span class="comment"># yes</span></span><br></pre></td></tr></table></figure><h1 id="클러스터롤"><a class="markdownIt-Anchor" href="#클러스터롤"></a> 클러스터롤</h1><ul><li>클러스터 전체적으로 조작 가능한 쿠버네티스 리소스의 규칙 정의</li><li><strong>클러스터 전체에서 유효</strong></li></ul><h2 id="클러스터롤-바인딩"><a class="markdownIt-Anchor" href="#클러스터롤-바인딩"></a> 클러스터롤 바인딩</h2><ul><li>쿠버네티스 리소스 사용자와 클러스터롤을 연결</li><li>일반 사용자 및 그룹/서비스 계정과 클러스터롤을 연결</li></ul><h1 id="서비스-계정"><a class="markdownIt-Anchor" href="#서비스-계정"></a> 서비스 계정</h1><ul><li>파드가 쿠버네티스 리소스를 조작할 때 사용하는 계정</li><li>구글의 서비스 계정 비슷한 듯</li></ul><h1 id="노드어피니티"><a class="markdownIt-Anchor" href="#노드어피니티"></a> 노드어피니티</h1><ul><li>노드 셀렉터보다 더 세밀한 선택이 가능 (스케줄링 정책 조건 등)</li></ul><h1 id="테인트"><a class="markdownIt-Anchor" href="#테인트"></a> 테인트</h1><ul><li>taint</li><li>오염 조건을 추가해 노드 스케줄링에서 제외</li><li>파드를 특정 노드로 강제할 수 있다.</li></ul><h1 id="컨트롤-플레인"><a class="markdownIt-Anchor" href="#컨트롤-플레인"></a> 컨트롤 플레인</h1><ul><li>kubelet, kubenetes master 등 컨트롤 플레인은 시스템 내 모든 쿠버네티스 오브젝트의 레코드를 유지하면서, 오브젝트의 상태를 관리하는 제어 루프를 지속적으로 구동</li></ul><h1 id="dynamic-admission-control"><a class="markdownIt-Anchor" href="#dynamic-admission-control"></a> Dynamic Admission Control</h1><ul><li>웹훅으로 동작</li><li>ValidationWebhookConfiguration</li><li>MutatingWebhookConfiguration</li></ul><h1 id="클러스터-데몬"><a class="markdownIt-Anchor" href="#클러스터-데몬"></a> 클러스터 데몬</h1><ul><li>클러스터 모든 서비스에 검사, 실행 필요시 사용</li></ul><h1 id="클러스터어시스턴스"><a class="markdownIt-Anchor" href="#클러스터어시스턴스"></a> 클러스터어시스턴스</h1><ul><li>SSL 인증 배포 등 자동화</li><li>cert-manager</li></ul></div><footer class="post-footer"><script src="https://ads-partners.coupang.com/g.js"></script><script>new PartnersCoupang.G({id:115781})</script><br><div id="reward-container"><a href="https://www.buymeacoffee.com/LOUB2kN" target="_blank"><img src="https://www.buymeacoffee.com/assets/img/custom_images/purple_img.png" style="height:auto!important;width:auto!important"></a></div><div class="post-copyright"><ul><li class="post-copyright-author"><strong>Post author: </strong>Gracefullight</li><li class="post-copyright-link"><strong>Post link: </strong><a href="https://gracefullight.dev/2019/06/09/kubernetes%EC%9D%98-%EB%AA%A8%EB%93%A0-%EA%B2%83/" title="Kubernetes의 모든 것">https://gracefullight.dev/2019/06/09/kubernetes의-모든-것/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LXNhLzQuMC9kZWVkLmtv"><i class="fab fa-fw fa-creative-commons"></i>BY-SA</span> unless stating additionally.</li></ul></div><div class="followme"><span>Welcome to my other publishing channels</span><div class="social-list"><div class="social-item"><a target="_blank" class="social-link" href="/feed.xml"><span class="icon"><i class="fa fa-rss"></i> </span><span class="label">RSS</span></a></div></div></div><div class="post-tags"><a href="/tags/docker/" rel="tag"><i class="fa fa-tag"></i> docker</a> <a href="/tags/k8s/" rel="tag"><i class="fa fa-tag"></i> k8s</a> <a href="/tags/kubernetes/" rel="tag"><i class="fa fa-tag"></i> kubernetes</a></div><div class="post-widgets"><div class="wp_rating"><div id="wpac-rating"></div></div></div><div class="post-nav"><div class="post-nav-item"><a href="/2019/05/27/install-lsd-on-mac/" rel="prev" title="Mac에서 lsd 설치하기 (ls 명령어 꾸미기)"><i class="fa fa-chevron-left"></i> Mac에서 lsd 설치하기 (ls 명령어 꾸미기)</a></div><div class="post-nav-item"><a href="/2019/06/17/chrome-usb-debugging-device-not-found/" rel="next" title="chrome usb 디버깅 장치를 못 찾거나 연결이 안될 때">chrome usb 디버깅 장치를 못 찾거나 연결이 안될 때 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="disqus_thread"><noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript></div><script>window.addEventListener("tabs:register",()=>{let{activeClass:t}=CONFIG.comments;if(CONFIG.comments.storage&&(t=localStorage.getItem("comments_active")||t),t){const e=document.querySelector(`a[href="#comment-${t}"]`);e&&e.click()}}),CONFIG.comments.storage&&window.addEventListener("tabs:click",t=>{if(!t.target.matches(".tabs-comment .tab-content .tab-pane"))return;const e=t.target.classList[1];localStorage.setItem("comments_active",e)})</script></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2016 – <span itemprop="copyrightYear">2021</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Gracefullight</span></div><div class="busuanzi-count"><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="Total Visitors"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-pv" title="Total Views"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer><script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script><script src="/js/utils.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script>CONFIG.page.isPost&&(wpac_init=window.wpac_init||[],wpac_init.push({widget:"Rating",id:26238,el:"wpac-rating",color:"682984"}),function(){if(!("WIDGETPACK_LOADED"in window)){WIDGETPACK_LOADED=!0;var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//embed.widgetpack.com/widget.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t.nextSibling)}}())</script><script src="/js/local-search.js"></script><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="//cdn.jsdelivr.net/npm/quicklink@2/dist/quicklink.umd.js"></script><script>window.addEventListener("load",()=>{quicklink.listen({timeout:3e3,priority:!0,ignores:[e=>e.includes("#"),e=>"https://gracefullight.dev/2019/06/09/kubernetes%EC%9D%98-%EB%AA%A8%EB%93%A0-%EA%B2%83/"===e,(e,t)=>t.hasAttribute("noopener")]})})</script><script>function loadCount(){var d=document,t=d.createElement("script");t.src="https://gracefullight.disqus.com/count.js",t.id="dsq-count-scr",(d.head||d.body).appendChild(t)}window.addEventListener("load",loadCount,!1)</script><script>var disqus_config=function(){this.page.url="https://gracefullight.dev/2019/06/09/kubernetes%EC%9D%98-%EB%AA%A8%EB%93%A0-%EA%B2%83/",this.page.identifier="2019/06/09/kubernetes의-모든-것/",this.page.title="Kubernetes의 모든 것"};NexT.utils.loadComments("#disqus_thread",()=>{if(window.DISQUS)DISQUS.reset({reload:!0,config:disqus_config});else{var e=document,t=e.createElement("script");t.src="https://gracefullight.disqus.com/embed.js",t.setAttribute("data-timestamp",""+ +new Date),(e.head||e.body).appendChild(t)}})</script><script src="/a2hs.js"></script><script>AddToHomeScreen({color:"#682984",htmlContent:'Install <strong>Blog</strong> on your iOS device: tap share and <strong>Add to Home Screen <i class="fa fa-plus-square-o" aria-hidden="true"></i>',logoImage:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">\n    <image id="image0" width="32" height="32" x="0" y="0"\n      xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABwlBMVEUAAABoKYRoKYRoKYRo\nKYRoKYRoKYRoKYRoKYRoKYRoKYRoKYRoKYRoKYRoKYRoKYRoKYRoKYRoKYRoKYRoKYRoKYRoKYRo\nKYRoKYRoKYRoKYRoKYRoKYRoKYRoKYRoKYRoKYRoKYRmJ4NlJYJmJoNnKINmJoJnJ4NrLYaCTpmh\nerK3mcTApsy/pMuzk8Gdc69/SpdqLIaHVp7IstPy7PT+/v7////9/f7w6fLFrdB4QJFpKoSgeLHv\n6PLw6vOAS5eacK318Pf9/P7l2+rDqs6yksC0lcLGrtHj1+j8+/3Uw9xtMIh7RJTl2ur39Pm0lMJ3\nPpB0Oo6YbKuvjr79/P2wkL9nKIRoKIRwNIrbzOLf0uVzOY3x6vNsL4d5QZKMW6H59vqherOGVJ3m\n2+rs5O/r4+/p3+2OXqOPYaT6+Pv//v+edrCLWqD49fr8+vyTZqeKWZ+ujL2FU5zh1ed7RZTt5fDU\nwdxrLYeMXKHz7/bRvdn59/qhebKAS5jy7fWccq76+fvx7PSog7hkJIFuMYnHr9Hh1ObBp8yxkL+w\nj77ErM/LtdVwNIvi1ud0O46SZKa5nMangrd1PI9pKoVmJYIBdN/qXMTWAAAAIXRSTlMAAAQoa6zZ\n8v0DNpbf+xqJ6YgZNcL+QdjBAineq/w36OoVlKlsAAAAAWJLR0SVCGB6gwAAAAd0SU1FB+QBDAkd\nFjLeh/4AAAH+SURBVDjLhZPpW1JBFMZnFLkIygU3vALqADO3MosWT6ktltrilhVFRZYaZZRr+25p\nm5Va1h/cwJ0FeHwe3k9zz/ndmTPvnIOQEK6qdtW4DY/HcNe4qqswKhWu9frq6olQfZ3PW1uMYOw3\nA6REgWADxjrf2NRMytTc1CgJjFvcZBe5WxyC/x8iuyrk7IH9rToWiycoZXHb+Wr1cwBbpk7v2buv\na3/3gYPJQ7QQMC2MsFfVTw8fOdoDXMeO9/YViIAXI8sn8/0nToLUqdPOKT4LtYVF3h44A3B2cGj4\n3PkLF0dGnWC4DbmEf/bYOMDEpUnCGLk8cIUKT10oIje4CpC61l/YmbLr8twIEh6kb9wEuJXJ/0ht\nLuUFMsQGydsAXTG+muq7wyVqIAbyOAt2dxpgJk5IYvZe9n72wRxz4h4FPMzBo8ccYPML/JqLSwKI\nyiPY8gTACo8mnjzNpjRgyCLtZ88BXozy6l9mXr3WQEhdc+oNwNt3MX4N9v6DBiLKKLb6EeDTWoay\n9aQGuFHS6vTnL/nivn77vvEjpwButXose/JnSj2WBPhj4fYOSfxa28w5+enN2bxnpKOd94MVVP1g\nb22vdPcO/f4zt/O3EAlauLTlKGOUpGP/GNUtV7lpK7Z95cHJEw1mZ2m+0ywaPTG8YT284bLhLRr/\naLRs/P8DbZGRYkxcNtEAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDEtMTJUMDk6Mjk6MjIrMDM6\nMDA/mynTAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTAxLTEyVDA5OjI5OjIyKzAzOjAwTsaRbwAA\nAABJRU5ErkJggg=="/>\n</svg>\n'})</script></body></html>